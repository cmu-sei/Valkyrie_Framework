{% extends 'index.html' %} {% block header %}
<h1 class="header-title">New Data Sources</h1>
<p class="header-subtitle"><a href="/">Home</a> / <a href="DataSources.html">Data Sources</a> / New </p>
{% endblock %} {% block content %}

<script type="text/javascript" src="/static/script/ds_form.js"></script>
<script type="text/javascript" src="/static/script/bootstrap.bundle.min.js"></script>

{% if messages %} {% for message in messages %}
<div class="alert alert-danger alert-dismissible fade show" role="alert" style="padding:15px;">
  {{ message }}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  ></button>
</div>
{% endfor %} {% endif %}

<form id="new_ds" action="" method="post">

    <label for="formFile" class="form-label">Data Source Type*</label>
    <select id="ds_droplist" name="ds_type_name" class="form-select" data-bs-toggle="dropdown" aria-expanded="Default select example" onchange="addFieldsDS()">
        <option selected>Select a Data Source Type</option>
        {% for option in options %}
        <option class="dropdown-item" value="{{ option.rowid}}" data_type="{{ option.ds_type }}">{{ option.ds_type }}</option>
        {% endfor %}
    </select>
    <div id="additional-fields"></div>

    <!--Hidden value for Data Type-->
    <input type="hidden" name="data_type" id="data_type_field" value="">

    {% csrf_token %}
    <div class="mt-3">
        <button
          id="btn_sub"
          type="submit"
          value="Add"
          class="btn btn-primary"
          onclick="document.body.style.cursor='wait'"
        >
          Add
        </button>
      </div>

</form>

{% endblock %}
